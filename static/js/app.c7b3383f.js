(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=s[0]))}return e}var n={},i={app:0},a=[];function r(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=n,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("85ec"),i=s.n(n);i.a},"111a":function(e,t,s){e.exports=s.p+"static/img/power.47ec93af.svg"},"12e9":function(e,t,s){},1815:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAeFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////GqOSsAAAAJ3RSTlMAuXBsiXhl8rJzJfu3pYsqHRbc2dN+X1pUPzcC9uvQrZqETTEiBYJx4Z35AAAA5ElEQVQ4y82Q3XKCMBBGjxgCogi0UvH/t933f8NuEp0pDcNdO54Ldtg9Sb6El8OKYoGJKF/R3IhnCaWrCX12uTYPB/3ktANCvdLeG7xrWZxiYZO5AdstuSiRYMPhV5ErJhZC74PUlZZ1EKY88bvOby6740S19wv68T45yoMVOxf1WPfiFVqe7Cu/abb5Ea+THusQy8I5nHaRX5gQ9cxc47m7Ryy4uRm1ZIVGinCx75ncoWpIZZCWpsIzHRZmwKiQxMKyUMyIYFHsiJCizP5CSIaFNBYMyiV+h6acBDqU7vFTNvwP3yw+Q1L03VPiAAAAAElFTkSuQmCC"},"1f37":function(e,t,s){},"1fbe":function(e,t,s){"use strict";var n=s("d605"),i=s.n(n);i.a},2103:function(e,t){e.exports="data:image/png;base64,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"},"21e2":function(e,t,s){e.exports=s.p+"static/img/arrow.901182d2.svg"},"22f84":function(e,t,s){"use strict";var n=s("8aea"),i=s.n(n);i.a},2609:function(e,t,s){},"2cb2":function(e,t,s){e.exports=s.p+"static/img/menu-user.e21010cc.svg"},"3ac7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAn1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Kd3m4AAAANHRSTlMA8qapVlLp+Crk0R69szHCsJq2nVr8xqtYUITt2I9/eUw1BuaKYl5AIxPLopVIORUM3JFw6ziomgAAAbVJREFUOMuF0wlv4jAQBeAXCE6CIQeEIyEHV8tRrrbv//+2tR2nsBut+kmWcPSYIGYG8GPhGEEGax04hoh94DhjawGrzx8+RuS8b0yPsGTSPJmTI3ic478ieiowBcKB5g5O0LaZuYZAogIO+whpDQEJ9Oxtoz45JvDOFtLZAkN7efsJDMhLmqZnCsSkOrs0/SLd18ABwJTCnFi/KmwDM451IAWwoEDCnQoUQKYDMWdgU8F9CUzoFUWgv/RBYl1KuOQaQE8H1InYWEKWGbQlWURRJLhCos4tnmiXBxQbaKmA80DHaTxsfJvXVIHxuQS6FizuHhvzZ4WPUWN+XvFTCjr9qRJ2foMxewTM8bd7MjYmw2E0qnGr5UQIcZZ48o0jsN1CCW2ztOtewl/Z6hkCcd/mV9R6mlLI/Rpk79nuMiQP36QqcyBd81fbZi2qKveY60BOnoCBbVbbbglgxWpDXms6AG7/zMOX676rCkcyrOm9uW6pAt2Rm6DaI2Zn5EJaJZQ9X4e2GfuNqy0zu3lLc92Ysf99cUZk1DMSCUtemicRGcFnd3l7r8sLf2zXfzeAlbXrPw7xB+SiUz65ONWNAAAAAElFTkSuQmCC"},"3c18":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAnFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+TINBkAAAAM3RSTlMAHZ0N3fYZ1M0tKiHCcEEVCQby2NG8XzsSA+/n2seLWjD54baDbKKYj3NUSDa4p6N1UKg6UA93AAABj0lEQVQ4y2WT2XKjQAxFxY4xBgMGY8C7x1uSSTLn//9timYJ7pyXVqsu6Epdkh/ivelXUPnmPpbfBCYTzJlo7IDwK3JF3OgrB3YyZb56/Whmgjef3FOadRsstuAv2mid4Rykx3X4SESk9FH4rcfNGcfoBQ25Oj3sZxw/GzJ1PWMP/k7q/IO9bM/ERlWRE/f2MKArlvEmirf+0wBao5/8VdclLEWxAUsFV/6JWGAMgkQTuG2wZyvyWiIa3ElIIWbraDCZqB80k9SnrFjLqM++y/LbIxwyazxxMMb3SlE449BdjqIMKS41PfVFZDA+CowVfBSzsgyKM6zGzoYSbo0dSU/UULl9icFkxjaRkSTE7k32bV44bWTKiYtq89oNyoJ3eeEApRpUN+oFoWjkPLpRyxVTzux1wZNcbuodDQi2zHXBHD+gS++oq6OlC5ZOVXPvYhucRBdsUsZHNRwwdIELxzF5SPG0Nt89nMPr4tyCyR7e1OLoq5c/IsOyjOiRA3fRmOnL+5u4MP0UUt8sJuv/H9H1N3oI39JHAAAAAElFTkSuQmCC"},"3c34":function(e,t,s){e.exports=s.p+"static/img/angle-arrow-down.3b81d581.svg"},4678:function(e,t,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=a(e);return s(t)}function a(e){if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id="4678"},"4f8a":function(e,t,s){"use strict";var n=s("636c"),i=s.n(n);i.a},"53fa":function(e,t,s){e.exports=s.p+"static/img/refresh.a8692199.svg"},"56d7":function(e,t,s){"use strict";s.r(t);s("4de4"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{name:"slide-fade"}},[s("router-view")],1)],1)},a=[],r={name:"App"},o=r,c=(s("034f"),s("2877")),l=Object(c["a"])(o,i,a,!1,null,null,null),u=l.exports,d=s("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"app-container relative":!0,"overflow-hidden":e.lockAppScroll}},["customer"==e.currentUser.role?n("div",{staticClass:"relative flex flex-col min-h-screen"},[n("div",{staticClass:"flex justify-center p-5 absolute top-0 left-0 w-full"},[n("router-link",{staticClass:"mr-auto",attrs:{to:"#"}},[n("img",{staticClass:"menu-icon",attrs:{src:s("2cb2")}})]),n("span",{staticClass:"font-semibold text-xl text-white tracking-wide capitalize"},[e._v("Scan & Pay")]),n("button",{staticClass:"ml-auto",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[n("img",{staticClass:"menu-icon",attrs:{src:s("111a")}})])],1),e._m(0),e.transactions.length>=1?n("div",{staticClass:"mt-2 p-5 flex justify-between items-center text-base"},[e._m(1),n("button",{staticClass:"text-gray-400 text-white inline-flex items-center",on:{click:function(t){return e.customerTrx()}}},[n("span",[e._v("Reload")]),n("img",{staticClass:"icon-after-span",attrs:{src:s("53fa")}})])]):e._e(),n("div",{staticClass:"p-5 pb-24"},e._l(e.transactions,(function(t){return n("router-link",{key:t.id,staticClass:"flex items-center p-4 px-5 rounded-lg qr-gray-bg mb-4",attrs:{to:"#"}},[n("img",{staticClass:"list-icon mr-4",attrs:{src:s("cf44")}}),n("div",{},[n("span",{staticClass:"text-sm text-white tracking-wide truncate w-32 inline-block"},[e._v(e._s(t.business.business_name))]),n("span",{staticClass:"block text-xs text-gray-500 tracking-wide"},[e._v(e._s(e._f("formatDate")(t.created_at)))])]),n("div",{staticClass:"ml-auto"},[n("span",{class:{"font-semibold tracking-wider text-sm":!0,"text-white":!0,"text-green-500":!1}},[e._v("-"+e._s(t.transaction_amount)+" "),n("i",{staticClass:"text-xs"},[e._v("Ksh")])])])])})),1),n("div",{staticClass:"flex justify-center items-center fixed left-0 bottom-0 p-5 w-full"},[n("button",{staticClass:"tracking-wide w-full p-3 px-5 border border-pink-700 rounded-lg h-16 text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white",on:{click:function(t){return e.scanQR()}}},[e._v("SCAN")])])]):e._e(),"merchant"==e.currentUser.role||"admin"==e.currentUser.role?n("div",{class:{"relative min-h-screen will-blur":!0,blur:e.showMerchantBusinesses||e.showAddNewBusinessForm}},[n("div",{staticClass:"flex justify-center p-5 w-full"},[n("router-link",{staticClass:"mr-auto",attrs:{to:"#"}},[n("img",{staticClass:"menu-icon",attrs:{src:s("2cb2")}})]),n("span",{staticClass:"font-semibold text-lg text-white tracking-wide capitalize"},[e.hasBusiness?e._e():n("button",{staticClass:"flex items-center",on:{click:function(t){e.showAddNewBusinessForm=!0}}},[n("span",[e._v("Add Business")]),n("img",{staticClass:"icon-after-span",attrs:{src:s("eb38")}})]),e.hasBusiness?n("button",{staticClass:"flex items-center",on:{click:function(t){return e.showBusinessesDialog()}}},[n("span",[e._v(e._s(e.activeBusiness.business_name))]),n("img",{staticClass:"icon-after-span",attrs:{src:s("3c34")}})]):e._e()]),n("button",{staticClass:"ml-auto",on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[n("img",{staticClass:"menu-icon",attrs:{src:s("111a")}})])],1),n("div",{staticClass:"flex items-center justify-center flex-col p-5 mt-4"},[n("div",{staticClass:"uppercase text-gray-400 tracking-wide text-base tracking-wider mb-2"},[e._v("Available")]),n("div",{staticClass:"text-white mb-8 text-2xl font-bold tracking-wider"},[e._v("Ksh. "+e._s(e.activeBusiness.business_transaction))]),e.hasBusiness?n("div",{staticClass:"flex justify-between items-center w-full rounded-full qr-gray-bg py-2 px-6"},[n("button",{staticClass:"uppercase text-gray-400 tracking-wide text-sm tracking-wider text-center"},[e._v("Withdraw")]),n("button",{staticClass:"uppercase text-gray-400 tracking-wide text-sm tracking-wider text-center",on:{click:e.setUpShowEditForm}},[e._v("Edit")]),n("button",{staticClass:"uppercase text-gray-400 tracking-wide text-sm tracking-wider text-center",on:{click:function(t){return e.goTo()}}},[e._v("QR")])]):e._e(),e.hasBusiness?e._e():n("button",{staticClass:"uppercase rounded-full py-2 px-6 text-gray-400 tracking-wide text-base tracking-wider qr-gray-bg",on:{click:function(t){e.showAddNewBusinessForm=!0}}},[e._v("Add A Business")])]),e.transactions.length>=1?n("div",{staticClass:"mt-2 p-5 flex justify-between items-center text-base"},[e._m(2),n("button",{staticClass:"text-gray-400 text-white inline-flex items-center",on:{click:function(t){return e.getBusinesses()}}},[n("span",[e._v("Reload")]),n("img",{staticClass:"icon-after-span",attrs:{src:s("53fa")}})])]):e._e(),n("div",{staticClass:"p-5 pb-24"},e._l(e.transactions,(function(t){return n("router-link",{key:t.id,staticClass:"flex items-center p-4 px-5 rounded-lg qr-gray-bg mb-4",attrs:{to:"#"}},[n("img",{staticClass:"list-icon mr-4",attrs:{src:s("cf44")}}),n("div",{},[n("span",{staticClass:"text-sm text-white tracking-wide truncate w-32 inline-block"},[e._v(e._s(t.user.name))]),n("span",{staticClass:"text-sm text-white tracking-wide truncate block"},[e._v(e._s(t.transaction_customer_name))]),n("span",{staticClass:"block text-xs text-gray-500 tracking-wide"},[e._v(e._s(e._f("formatDate")(t.created_at)))])]),n("div",{staticClass:"ml-auto"},[n("span",{class:{"font-semibold tracking-wider text-sm":!0,"text-white":!0,"text-green-500":!1}},[e._v(e._s(t.transaction_amount)+" "),n("i",{staticClass:"text-xs"},[e._v("Ksh")])])])])})),1)]):e._e(),n("transition",{attrs:{name:"popup"}},[e.showMerchantBusinesses?n("div",{staticClass:"absolute top-0 left-0 p-5 h-screen oveflowy-auto w-full overflow-y-auto"},[n("div",{staticClass:"p-1 pb-16"},[n("div",{staticClass:"pb-5 flex justify-between"},[n("button",{on:{click:function(t){e.showMerchantBusinesses=!1,e.lockAppScroll=!1}}},[n("img",{staticClass:"w-6",attrs:{src:s("72e4")}})])]),e._l(e.businesses,(function(t){return n("div",{key:t.id,staticClass:"flex items-center p-4 px-5 rounded-lg qr-gray-bg mb-4"},[n("router-link",{staticClass:"inline-flex items-center",attrs:{to:"#"}},[n("img",{staticClass:"list-icon mr-4",attrs:{src:s("5747")}}),n("div",{},[n("span",{staticClass:"text-sm text-gray-500 tracking-wide truncate w-24 inline-block"},[e._v(e._s(t.business_name))]),n("span",{staticClass:"block text-xs text-gray-500 tracking-wide"},[e._v(e._s(t.business_location))])])]),n("div",{staticClass:"ml-auto"},[n("button",{staticClass:"font-semibold tracking-wider text-xs rounded-full text-white qr-btn py-1 px-3 flex justify-center items-center",on:{click:function(s){return e.changeActiveBusiness(t)}}},[e._v("Select")])])],1)})),n("div",{staticClass:"fixed bottom-0 left-0 pb-4 flex justify-center items-center w-full"},[n("button",{staticClass:"flex items-center font-semibold tracking-wider text-xs rounded-full text-white qr-btn py-2 px-4 flex justify-center items-center",on:{click:function(t){e.showAddNewBusinessForm=!0}}},[n("span",[e._v("Add Business")]),n("img",{staticClass:"icon-after-span",attrs:{src:s("eb38")}})])])],2)]):e._e()]),n("transition",{attrs:{name:"popup"}},[e.showAddNewBusinessForm?n("div",{staticClass:"absolute top-0 left-0 w-full p-5"},[n("form",{staticClass:"bg-white rounded-lg p-5",on:{submit:function(t){return t.preventDefault(),e.addNewBusiness(t)}}},[n("div",[n("button",{attrs:{type:"button"},on:{click:function(t){e.showAddNewBusinessForm=!1}}},[n("img",{staticClass:"w-4",attrs:{src:s("8b1b")}})])]),n("div",{staticClass:"text-center text-xl flex items-center justify-center w-full"},[n("span",{staticClass:"text-xm rounded-full qr-pink-bg w-5 h-5 flex justify-center items-center text-white font-light mr-2"},[e._v("+")]),n("span",{staticClass:"font-bold mr-2"},[e._v("Add")]),e._v(" Business ")]),n("div",{staticClass:"py-10"},[n("div",{staticClass:"mb-5"},[n("label",{staticClass:"mb-1 inline-block",attrs:{for:"new_business_name"}},[e._v("Business Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addBusinessForm.business_name,expression:"addBusinessForm.business_name"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-12 text-md placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"text",placeholder:"e.g Jayden Mini Store",id:"new_business_name",required:"",autocomplete:"off"},domProps:{value:e.addBusinessForm.business_name},on:{input:function(t){t.target.composing||e.$set(e.addBusinessForm,"business_name",t.target.value)}}})]),n("div",{staticClass:"mb-8"},[n("label",{staticClass:"mb-1 inline-block",attrs:{for:"email"}},[e._v("Business Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addBusinessForm.business_location,expression:"addBusinessForm.business_location"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-12 text-md placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"text",placeholder:"e.g Muthaiga Estate",id:"new_business_location",required:"",autocomplete:"off"},domProps:{value:e.addBusinessForm.business_location},on:{input:function(t){t.target.composing||e.$set(e.addBusinessForm,"business_location",t.target.value)}}})]),n("div",{staticClass:"mb-5 flex justify-center"},[n("button",{staticClass:"w-full p-3 px-5 border border-pink-700 rounded-full shadow-md h-14 font-semibold text-md placeholder-black focus:border-teal-500 focus:outline-none tracking-wider qr-btn text-white"},[e._v("ADD BUSINESS")])])])])]):e._e()]),n("transition",{attrs:{name:"popup"}},[e.showEditBusinessForm?n("div",{staticClass:"absolute top-0 left-0 w-full p-5"},[n("form",{staticClass:"bg-white rounded-lg p-5",on:{submit:function(t){return t.preventDefault(),e.editBusiness(t)}}},[n("div",[n("button",{attrs:{type:"button"},on:{click:function(t){e.showEditBusinessForm=!1}}},[n("img",{staticClass:"w-4",attrs:{src:s("8b1b")}})])]),n("div",{staticClass:"text-center text-xl flex items-center justify-center w-full"},[n("span",{staticClass:"text-xm rounded-full qr-pink-bg w-5 h-5 flex justify-center items-center text-white font-light mr-2"},[e._v("+")]),n("span",{staticClass:"font-bold mr-2"},[e._v("Edit")]),e._v(" Business ")]),n("div",{staticClass:"py-10"},[n("div",{staticClass:"mb-5"},[n("label",{staticClass:"mb-1 inline-block",attrs:{for:"new_business_name"}},[e._v("Business Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editBusinessForm.business_name,expression:"editBusinessForm.business_name"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-12 text-md placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"text",placeholder:"e.g Jayden Mini Store",id:"new_business_name",required:"",autocomplete:"off"},domProps:{value:e.editBusinessForm.business_name},on:{input:function(t){t.target.composing||e.$set(e.editBusinessForm,"business_name",t.target.value)}}})]),n("div",{staticClass:"mb-8"},[n("label",{staticClass:"mb-1 inline-block",attrs:{for:"email"}},[e._v("Business Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editBusinessForm.business_location,expression:"editBusinessForm.business_location"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-12 text-md placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"text",placeholder:"e.g Muthaiga Estate",id:"new_business_location",required:"",autocomplete:"off"},domProps:{value:e.editBusinessForm.business_location},on:{input:function(t){t.target.composing||e.$set(e.editBusinessForm,"business_location",t.target.value)}}})]),n("div",{staticClass:"mb-5 flex justify-center"},[n("button",{staticClass:"w-full p-3 px-5 border border-pink-700 rounded-full shadow-md h-14 font-semibold text-md placeholder-black focus:border-teal-500 focus:outline-none tracking-wider qr-btn text-white"},[e._v("SAVE CHANGES")])])])])]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showToolbar&&"customer"!=e.currentUser.role,expression:"showToolbar == true && currentUser.role != 'customer'"}],staticClass:"toolbar fixed bottom-0 left-0 w-full p-5"},[n("div",{staticClass:"shadow-lg mx-auto rounded-md flex justify-between qr-gray-bg"},[n("router-link",{class:{"p-3 flex-1 flex justify-center":!0,"qr-pink-bg":"home"==e.currentView},attrs:{to:"#"}},[n("img",{staticClass:"w-6",attrs:{src:s("1815"),alt:"",width:"24px",height:"24px"}})]),n("button",{class:{"p-3 flex-1 flex justify-center":!0},on:{click:function(t){return t.preventDefault(),e.scanQR()}}},[n("img",{staticClass:"w-6",attrs:{src:s("3ac7"),alt:"",width:"24px",height:"24px"}})]),n("router-link",{class:{"p-3 flex-1 flex justify-center":!0},attrs:{to:"#"}},[n("img",{staticClass:"w-6",attrs:{src:s("3c18"),alt:"",width:"24px",height:"24px"}})])],1)])],1)},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"img-wrapper mt-24 p-5 text-center"},[n("div",{staticClass:"inline-block relative p-1"},[n("div",{staticClass:"qr-borders qr-top-left absolute top-0 left-0 absolute w-full h-full"}),n("div",{staticClass:"qr-borders qr-bottom-right bottom-0 right-0 absolute w-full h-full"}),n("img",{staticClass:"mx-auto qr-image",attrs:{src:s("2103")}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"text-white font--bold"},[e._v(" Latest "),s("span",{staticClass:"text-gray-400 font-normal"},[e._v("Transactions")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"text-white font--bold"},[e._v(" Latest "),s("span",{staticClass:"text-gray-400 font-normal"},[e._v("Transactions")])])}],f=(s("99af"),s("b680"),s("96cf"),s("1da1")),h=s("5530"),b=(s("d3b7"),s("bc3a")),g=s.n(b),v=s("2f62"),w=(s("b0c0"),{sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},role:function(e){return e.user.role},phone:function(e){return e.user.phone},userId:function(e){return e.user.userId}}),x=w,C=s("a78e"),k=s.n(C),_={sidebar:{opened:!k.a.get("sidebarStatus")||!!+k.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop"},y={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?k.a.set("sidebarStatus",1):k.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){k.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t}},j={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var s=e.commit,n=t.withoutAnimation;s("CLOSE_SIDEBAR",n)},toggleDevice:function(e,t){var s=e.commit;s("TOGGLE_DEVICE",t)}},E={namespaced:!0,state:_,mutations:y,actions:j},A=s("83d6"),B=s.n(A),S=B.a.showSettings,F=B.a.fixedHeader,I=B.a.sidebarLogo,T={showSettings:S,fixedHeader:F,sidebarLogo:I},q={},R={changeSetting:function(e,t){var s=e.commit;s("CHANGE_SETTING",t)}},P={namespaced:!0,state:T,mutations:q,actions:R};function U(e){return X({headers:{"Content-Type":"application/json",Accept:"application/json"},url:"/api/v1/register",method:"post",data:e})}function N(e){return X({headers:{"Content-Type":"application/json",Accept:"application/json"},url:"/api/v1/login",method:"post",data:e})}function K(e){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/users/logout",method:"post"})}function O(e){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/users/profile",method:"get"})}var M="vue_admin_template_token";function z(){return k.a.get(M)}function Q(e){return k.a.set(M,e)}function J(){return k.a.remove(M)}var V=function(){return{token:z(),userId:null,name:"",role:"",phone:"",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif"}},L=V(),$={RESET_STATE:function(e){Object.assign(e,V())},SET_TOKEN:function(e,t){e.token=t},SET_USER_ID:function(e,t){e.userId=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLE:function(e,t){e.role=t},SET_PHONE:function(e,t){e.phone=t}},Z={login:function(e,t){var s=e.commit;return new Promise((function(e,n){N(t).then((function(t){s("SET_TOKEN",t.token),Q(t.token),e()})).catch((function(e){n(e)}))}))},getInfo:function(e){var t=e.commit,s=e.state;return new Promise((function(e,n){O(s.token).then((function(s){s||n("Verification failed, please Login again."),s.roles=[s.user.role],t("SET_USER_ID",s.user.id),t("SET_NAME",s.user.name),t("SET_ROLE",s.user.role),t("SET_PHONE",s.user.phone),e(s.user)})).catch((function(e){n(e)}))}))},logout:function(e){var t=e.commit,s=e.state;return new Promise((function(e,n){K(s.token).then((function(){J(),t("RESET_STATE"),e()})).catch((function(e){n(e)}))}))},resetToken:function(e){var t=e.commit;return new Promise((function(e){J(),t("RESET_STATE"),e()}))}},D={namespaced:!0,state:L,mutations:$,actions:Z};n["default"].use(v["a"]);var G=new v["a"].Store({modules:{app:E,settings:P,user:D},getters:x}),W=G,Y="https://qrrapi.herokuapp.com",H=g.a.create({baseURL:Y,timeout:1e4});H.interceptors.request.use((function(e){return W.getters.token,e}),(function(e){return console.log(e),Promise.reject(e.response)})),H.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return console.log("Request Error:",e.response),Promise.reject(e.response)}));var X=H;function ee(e,t){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/businesses",method:"post",data:t})}function te(e,t,s){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/businesses/".concat(t),method:"post",data:s})}function se(e,t){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/users/".concat(t,"/businesses"),method:"get"})}function ne(e,t){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/businesses/".concat(t),method:"get"})}function ie(e,t){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/payment/stk",method:"post",data:t})}function ae(e,t){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/payment/customer/".concat(t),method:"get"})}function re(e,t){return X({headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e)},url:"/api/v1/payment/business/".concat(t),method:"get"})}var oe={name:"Home",data:function(){return{token:null,currentUser:{role:null},hasBusiness:!1,showAddNewBusinessForm:!1,showEditBusinessForm:!1,showMerchantBusinesses:!1,loading:"",lockAppScroll:!1,currentView:"home",showToolbar:!0,transactions:[],addBusinessFormDefault:{business_name:null,business_location:null,business_photo:null,user_id:0,is_active:!0},addBusinessForm:{business_name:null,business_location:null,business_photo:null,user_id:0,is_active:!0},editBusinessForm:{id:null,business_name:null,business_location:null,business_photo:null,user_id:0,is_active:!0},businesses:[],activeBusiness:{id:null,business_name:null,business_location:null,business_photo:null,business_transaction:0}}},computed:Object(h["a"])({},Object(v["b"])(["name","userId","role"])),created:function(){this.currentUser.role=this.role,this.token=z()},mounted:function(){var e=this;"merchant"==e.role||"admin"==e.role?e.getBusinesses():e.customerTrx()},watch:{currentUser:function(){"customer"==this.currentUser.role&&(this.showToolbar=!1)},showAddNewBusinessForm:function(){this.showAddNewBusinessForm||this.showMerchantBusinesses?this.showToolbar=!1:this.showToolbar=!0},showEditBusinessForm:function(){this.showEditBusinessForm||this.showMerchantBusinesses?this.showToolbar=!1:this.showToolbar=!0},showMerchantBusinesses:function(){this.showMerchantBusinesses?this.showToolbar=!1:this.showToolbar=!0}},methods:{logout:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login?redirect=".concat(e.$route.fullPath));case 3:case"end":return t.stop()}}),t)})))()},scanQR:function(){var e=this;cordova.plugins.barcodeScanner.scan((function(t){null===t&&""===t||e.$router.push({path:"/payment/".concat(t.text)})}),(function(t){var s="Scanning failed: ".concat(t);e.$msg.error({message:s,width:"80%",position:"center"})}),{preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,saveHistory:!0,prompt:"Place the QR Code inside the scan area",resultDisplayDuration:500,orientation:"portrait"})},showBusinessesDialog:function(){var e=this;e.lockAppScroll=!0,e.showMerchantBusinesses=!0},getBusinesses:function(){var e=this,t=e.$loading.show({color:"purple",canCancel:!1});se(this.token,this.userId).then((function(s){e.businesses=s.business,e.businesses.length>=1?(e.hasBusiness=!0,e.setActiveBusiness(e.businesses[0],245e3),t.hide()):t.hide()}),(function(s){t.hide(),e.$msg.error({message:"Request failed! ".concat(s),width:"80%",position:"bottom-center"})})).catch((function(s){t.hide(),e.$msg.error({message:"Connection! ".concat(s),width:"80%",position:"bottom-center"})}))},setActiveBusiness:function(e,t){var s=this;s.activeBusiness.id=e.id,s.activeBusiness.business_name=e.business_name,s.activeBusiness.business_location=e.business_location,s.businessTrx(e.id)},addNewBusiness:function(){var e=this;if(""!=e.addBusinessForm.business_name&&""!=e.addBusinessForm.business_location){var t=e.$loading.show({color:"purple",canCancel:!1});this.addBusinessForm.user_id=this.userId,ee(this.token,e.addBusinessForm).then((function(s){t.hide(),e.getBusinesses(),e.addBusinessForm=e.addBusinessFormDefault,e.showAddNewBusinessForm=!1,e.$msg.success({message:"".concat(s.message),width:"80%",position:"bottom-center"})}),(function(s){t.hide(),e.$msg.error({message:"Request failed! ".concat(s),width:"80%",position:"bottom-center"})})).catch((function(s){t.hide(),e.$msg.error({message:"Request up failed! ".concat(s),width:"80%",position:"bottom-center"})}))}},editBusiness:function(){var e=this;if(""!=e.editBusinessForm.business_name&&""!=e.editBusinessForm.business_location){var t=e.$loading.show({color:"purple",canCancel:!1});te(e.token,e.editBusinessForm.id,e.editBusinessForm).then((function(s){t.hide(),console.log(s),e.getBusinesses(),e.editBusinessForm={},e.showEditBusinessForm=!1,e.$msg.success({message:"".concat(s.message),width:"80%",position:"bottom-center"})}),(function(s){t.hide(),e.$msg.error({message:"Request failed! ".concat(s),width:"80%",position:"bottom-center"})})).catch((function(s){t.hide(),e.$msg.error({message:"Request up failed! ".concat(s),width:"80%",position:"bottom-center"})}))}},getTransactions:function(){console.log("Fetch transactions")},changeActiveBusiness:function(e){var t=this,s=t.getRandomTransaction();t.setActiveBusiness(e,s),t.lockAppScroll=!1,t.showMerchantBusinesses=!1},getRandomTransaction:function(){var e=14499,t=98655;return(Math.random()*(t-e)+e).toFixed(2)},setUpShowEditForm:function(){var e=this;e.editBusinessForm.id=e.activeBusiness.id,e.editBusinessForm.business_name=e.activeBusiness.business_name,e.editBusinessForm.business_location=e.activeBusiness.business_location,e.editBusinessForm.business_photo=e.activeBusiness.business_photo,e.editBusinessForm.user_id=e.userId,e.editBusinessForm.is_active=!0,e.showEditBusinessForm=!0},goTo:function(){var e=this,t="/qr/".concat(e.activeBusiness.id,"/").concat(e.activeBusiness.business_name);this.$router.push({path:t})},customerTrx:function(){var e=this,t=e.$loading.show({color:"purple",canCancel:!1});ae(this.token,this.userId).then((function(s){var n=s.transactions;n.data.length>=1?(console.log("Customer Trx Total",n.total),console.log("Customer Trx Data",n.data),e.transactions=n.data,t.hide()):(console.log("No Customer Trx",n),t.hide())}),(function(e){console.log("Error ".concat(e)),t.hide()})).catch((function(e){console.log("Error ".concat(e)),t.hide()}))},businessTrx:function(e){var t=this,s=t.$loading.show({color:"purple",canCancel:!1});re(this.token,e).then((function(e){var n=e.transactions;n.data.length>=1?(console.log("Business Trx Total",n.total),console.log("Business Trx Data",n.data),t.transactions=n.data,t.activeBusiness.business_transaction=n.total,s.hide()):(console.log("No Business Trx"),s.hide())}),(function(e){console.log("Error ".concat(e)),s.hide()})).catch((function(e){console.log("Error ".concat(e)),s.hide()}))}}},ce=oe,le=(s("a32e"),Object(c["a"])(ce,m,p,!1,null,"13834c5d",null)),ue=le.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"flex justify-center p-5 relative"},[n("router-link",{staticClass:"absolute top-0 left-0 p-5 flex items-center h-full",attrs:{to:"/login"}},[n("img",{staticClass:"qr-icon-close",attrs:{src:s("8b1b"),alt:"icon"}})]),e._m(0)],1),n("div",{staticClass:"min-h-screen p-5 pt-0 mt-16"},[n("form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.handleSignUp(t)}}},[n("div",{staticClass:"mb-5"},[n("label",{staticClass:"hidden",attrs:{for:"name"}},[e._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.name,expression:"registerForm.name"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"text",placeholder:"Name",id:"name",required:"",autocomplete:"off"},domProps:{value:e.registerForm.name},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"name",t.target.value)}}})]),n("div",{staticClass:"mb-5"},[n("label",{staticClass:"hidden",attrs:{for:"email"}},[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.email,expression:"registerForm.email"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"email",placeholder:"Email",id:"email",required:"",autocomplete:"off"},domProps:{value:e.registerForm.email},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"email",t.target.value)}}})]),n("div",{staticClass:"mb-5"},[n("label",{staticClass:"hidden",attrs:{for:"phone"}},[e._v("Phone")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.phone,expression:"registerForm.phone"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-500 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"tel",placeholder:"Phone",id:"phone",required:"",autocomplete:"off"},domProps:{value:e.registerForm.phone},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"phone",t.target.value)}}})]),n("div",{staticClass:"mb-5"},[n("label",{staticClass:"hidden",attrs:{for:"password"}},[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.password,expression:"registerForm.password"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"password",placeholder:"Password",id:"password",required:"",autocomplete:"off"},domProps:{value:e.registerForm.password},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"password",t.target.value)}}})]),n("div",{staticClass:"mb-6"},[n("label",{staticClass:"hidden",attrs:{for:"password_confirmation"}},[e._v("Confirm Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.password_confirmation,expression:"registerForm.password_confirmation"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"password",placeholder:"Confirm Password",id:"password_confirmation",required:"",autocomplete:"off"},domProps:{value:e.registerForm.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.registerForm,"password_confirmation",t.target.value)}}})]),n("div",{staticClass:"mb-6 flex justify-between p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg"},[n("label",{staticClass:"qr-checkbox flex items-center",attrs:{for:"role-customer"}},[n("div",{staticClass:"bg-white shadow w-6 h-6 p-1 flex justify-center items-center mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.role,expression:"registerForm.role"}],staticClass:"hidden",attrs:{type:"radio",value:"customer",checked:"",id:"role-customer"},domProps:{checked:e._q(e.registerForm.role,"customer")},on:{change:function(t){return e.$set(e.registerForm,"role","customer")}}}),n("svg",{staticClass:"hidden w-4 h-4 text-pink-600 pointer-events-none",attrs:{viewBox:"0 0 172 172"}},[n("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","stroke-width":"none","stroke-miterlimit":"10","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[n("path",{attrs:{d:"M0 172V0h172v172z"}}),n("path",{attrs:{d:"M145.433 37.933L64.5 118.8658 33.7337 88.0996l-10.134 10.1341L64.5 139.1341l91.067-91.067z",fill:"currentColor","stroke-width":"1"}})])])]),n("span",{staticClass:"select-none"},[e._v("Customer")])]),n("label",{staticClass:"qr-checkbox flex items-center",attrs:{for:"role-merchant"}},[n("div",{staticClass:"bg-white shadow w-6 h-6 p-1 flex justify-center items-center mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.registerForm.role,expression:"registerForm.role"}],staticClass:"hidden",attrs:{type:"radio",value:"merchant",id:"role-merchant"},domProps:{checked:e._q(e.registerForm.role,"merchant")},on:{change:function(t){return e.$set(e.registerForm,"role","merchant")}}}),n("svg",{staticClass:"hidden w-4 h-4 text-pink-600 pointer-events-none",attrs:{viewBox:"0 0 172 172"}},[n("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","stroke-width":"none","stroke-miterlimit":"10","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[n("path",{attrs:{d:"M0 172V0h172v172z"}}),n("path",{attrs:{d:"M145.433 37.933L64.5 118.8658 33.7337 88.0996l-10.134 10.1341L64.5 139.1341l91.067-91.067z",fill:"currentColor","stroke-width":"1"}})])])]),n("span",{staticClass:"select-none"},[e._v("Merchant")])])]),n("div",{staticClass:"mb-6 flex justify-center"},[n("label",{staticClass:"qr-checkbox flex items-center",attrs:{for:"accept_terms"}},[n("div",{staticClass:"bg-white shadow w-6 h-6 p-1 flex justify-center items-center mr-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.accept_terms,expression:"accept_terms"}],staticClass:"hidden",attrs:{type:"checkbox",checked:"",id:"accept_terms"},domProps:{checked:Array.isArray(e.accept_terms)?e._i(e.accept_terms,null)>-1:e.accept_terms},on:{change:function(t){var s=e.accept_terms,n=t.target,i=!!n.checked;if(Array.isArray(s)){var a=null,r=e._i(s,a);n.checked?r<0&&(e.accept_terms=s.concat([a])):r>-1&&(e.accept_terms=s.slice(0,r).concat(s.slice(r+1)))}else e.accept_terms=i}}}),n("svg",{staticClass:"hidden w-4 h-4 text-pink-600 pointer-events-none",attrs:{viewBox:"0 0 172 172"}},[n("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","stroke-width":"none","stroke-miterlimit":"10","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[n("path",{attrs:{d:"M0 172V0h172v172z"}}),n("path",{attrs:{d:"M145.433 37.933L64.5 118.8658 33.7337 88.0996l-10.134 10.1341L64.5 139.1341l91.067-91.067z",fill:"currentColor","stroke-width":"1"}})])])]),n("span",{staticClass:"select-none"},[e._v("Accept Terms & Conditions")])])]),e.validationErrors?n("Errors",{staticClass:"mb-6",attrs:{errors:e.validationErrors}}):e._e(),n("div",{staticClass:"mb-8 flex justify-center"},[n("button",{staticClass:"w -full p-3 px-5 border border-pink-700 rounded-md h-16 text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white w-full",attrs:{disabled:!e.accept_terms}},[e._v("Sign Up")])])],1),n("div",{staticClass:"mb-6 flex justify-center"},[n("router-link",{attrs:{to:"/login"}},[e._v("Got an account?")])],1)])])},me=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center h-full"},[s("span",{staticClass:"font-semibold text-2xl tracking-wide"},[e._v("Sign Up")])])}],pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.validationErrors?s("div",[s("ul",{staticClass:"alert alert-danger"},e._l(e.validationErrors,(function(t,n){return s("li",{key:n},[e._v(e._s(t))])})),0)]):e._e()},fe=[],he=(s("0481"),s("4069"),s("07ac"),{name:"Errors",data:function(){return{}},props:["errors"],computed:{validationErrors:function(){var e=Object.values(this.errors);return e=e.flat(),e}}}),be=he,ge=(s("e921"),Object(c["a"])(be,pe,fe,!1,null,"a431610c",null)),ve=ge.exports,we={name:"Register",components:{Errors:ve},data:function(){return{accept_terms:!1,registerForm:{name:null,phone:null,email:null,password:null,password_confirmation:null,role:"customer"},validationErrors:null}},methods:{validateForm:function(){var e=this;return null==e.registerForm.name||null==e.registerForm.phone||null==e.registerForm.email||null==e.registerForm.password||null==e.registerForm.password_confirmation?(e.$msg.info({message:"Some fields are missing!",width:"80%",position:"bottom-center"}),!1):e.registerForm.password===e.registerForm.password_confirmation||(e.$msg.info({message:"Passwords do not match!",width:"80%",position:"bottom-center"}),!1)},handleSignUp:function(){var e=this,t=this;if(t.validateForm){var s=t.$loading.show({color:"purple",canCancel:!1});U(t.registerForm).then((function(e){s.hide(),console.log(e),t.handleLogin(t.registerForm.email,t.registerForm.password_confirmation)}),(function(t){s.hide(),e.validationErrors=t.data})).catch((function(e){s.hide(),console.log(e),t.$msg.error({message:"Network Error!",width:"80%",position:"center"})}))}},handleLogin:function(e,t){var s=this,n=this;if(null!=e&&null!=t){var i={email:e,password:t,remember_me:!1},a=n.$loading.show({message:"Please wait!",color:"purple",canCancel:!1});this.$store.dispatch("user/login",i).then((function(){a.hide(),s.$router.push({path:s.redirect||"/"})})).catch((function(e){a.hide(),n.$msg.error({message:e.data.message,width:"80%",position:"top-center"}),console.log("Error ".concat(e))}))}else n.$msg.info({message:"Email or Password is missing!",width:"80%",position:"bottom-center"})}}},xe=we,Ce=(s("22f84"),Object(c["a"])(xe,de,me,!1,null,"70c2ff6b",null)),ke=Ce.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"flex justify-center p-5 relative"},[n("router-link",{staticClass:"absolute top-0 left-0 p-5 flex items-center h-full",attrs:{to:"/register"}},[n("img",{staticClass:"qr-icon-close",attrs:{src:s("8b1b"),alt:"icon"}})]),e._m(0)],1),e._m(1),n("div",{staticClass:"qr-min-h p-5 relative mt-8"},[n("form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[n("div",{staticClass:"mb-5"},[n("label",{staticClass:"hidden",attrs:{for:"email"}},[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.email,expression:"loginForm.email"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"email",placeholder:"Email",id:"login_email",required:"",autocomplete:"off"},domProps:{value:e.loginForm.email},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"email",t.target.value)}}})]),n("div",{staticClass:"mb-5"},[n("label",{staticClass:"hidden",attrs:{for:"password"}},[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-700 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"password",placeholder:"Password",id:"login_password",required:"",autocomplete:"off"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})]),n("div",{staticClass:"mb-6 flex justify-center"},[n("label",{staticClass:"qr-checkbox flex items-center",attrs:{for:"remember_me"}},[n("div",{staticClass:"bg-white shadow w-6 h-6 p-1 flex justify-center items-center mr-2"},[n("input",{staticClass:"hidden",attrs:{type:"checkbox",checked:"",id:"remember_me"}}),n("svg",{staticClass:"hidden w-4 h-4 text-pink-600 pointer-events-none",attrs:{viewBox:"0 0 172 172"}},[n("g",{staticStyle:{"mix-blend-mode":"normal"},attrs:{fill:"none","stroke-width":"none","stroke-miterlimit":"10","font-family":"none","font-weight":"none","font-size":"none","text-anchor":"none"}},[n("path",{attrs:{d:"M0 172V0h172v172z"}}),n("path",{attrs:{d:"M145.433 37.933L64.5 118.8658 33.7337 88.0996l-10.134 10.1341L64.5 139.1341l91.067-91.067z",fill:"currentColor","stroke-width":"1"}})])])]),n("span",{staticClass:"select-none"},[e._v("Don't ask me again")])])]),e._m(2)]),n("div",{staticClass:"mb-6 flex justify-center"},[n("router-link",{staticClass:"hidden",attrs:{to:"/recoverpassword/s1"}},[e._v("Forgot Password?")]),n("router-link",{staticClass:"tracking-wide",attrs:{to:"/register"}},[e._v("Create a new account")])],1),n("div",{staticClass:"mb-4 flex justify-center left-0 bottom-0 p-2 pt-16 text-center w-full"},[n("router-link",{staticClass:"font-semibold text-lg tracking-wide hidden",attrs:{to:"/register"}},[e._v("Create a new account")]),n("router-link",{staticClass:"font-semibold text-lg tracking-wide opacity-75",attrs:{to:"/register"}},[e._v("BETA 1.0")])],1)])])},ye=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center h-full"},[s("span",{staticClass:"font-semibold text-2xl tracking-wide"},[e._v("Sign In")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center mt-8 mb-8 hidden"},[n("img",{staticClass:"qr-icon-user",attrs:{src:s("6aed"),alt:"icon"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-8 flex justify-center"},[s("button",{staticClass:"w-full p-3 px-5 border border-pink-700 rounded-md h-16 text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white"},[e._v("Sign In")])])}],je={name:"Login",data:function(){return{loginForm:{email:null,password:null,remember_me:!1},validationErrors:[]}},methods:{handleLogin:function(){var e=this,t=this;if(null!=t.loginForm.email&&""!=t.loginForm.email&&null!=t.loginForm.password&&""!=t.loginForm.password){var s=t.$loading.show({color:"purple",canCancel:!1});this.$store.dispatch("user/login",this.loginForm).then((function(){s.hide(),e.$router.push({path:e.redirect||"/"})})).catch((function(e){s.hide(),t.$msg.error({message:e.data.message,width:"80%",position:"top-center"})})).catch((function(e){console.log(e),t.$msg.error({message:"network Error!",width:"80%",position:"center"})}))}else t.$msg.info({message:"Email or Password is missing!",width:"80%",position:"bottom-center"})}}},Ee=je,Ae=(s("cdb2"),Object(c["a"])(Ee,_e,ye,!1,null,"1a06e4b2",null)),Be=Ae.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"flex justify-center p-5 relative"},[n("router-link",{staticClass:"absolute top-0 left-0 p-5 flex items-center h-full",attrs:{to:"/login"}},[n("img",{staticClass:"qr-icon-close",attrs:{src:s("8b1b"),alt:"icon"}})]),e._m(0)],1),e._m(1),n("div",{staticClass:"qr-min-h p-5 relative"},[n("form",{attrs:{autocomplete:"off"}},[e._m(2),e._m(3),n("div",{staticClass:"mb-8 flex justify-center"},[n("button",{staticClass:"w-full p-3 px-5 border border-pink-700 rounded-md h-16 text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white",on:{click:function(t){return t.preventDefault(),e.goTo("/recoverpassword/s2")}}},[e._v("Send")])])]),n("div",{staticClass:"mb-6 flex justify-center"},[n("router-link",{attrs:{to:"/login"}},[e._v("Back to Sign In")])],1),n("div",{staticClass:"mb-4 flex justify-center absolute left-0 bottom-0 p-2 text-center w-full"},[n("router-link",{staticClass:"font-semibold text-lg tracking-wide",attrs:{to:"/register"}},[e._v("Create a new account")])],1)])])},Fe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center h-full"},[s("span",{staticClass:"font-semibold text-xl tracking-wide"},[e._v("Forgot password")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center mt-8 mb-8"},[n("img",{staticClass:"qr-icon-user",attrs:{src:s("9619"),alt:"icon"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-5"},[s("label",{staticClass:"hidden",attrs:{for:"phone"}},[e._v("Phone")]),s("input",{staticClass:"w-full p-3 px-5 border-2 border-opacity-50 border-pink-500 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"tel",placeholder:"Phone",id:"phone",required:"",autocomplete:"off"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-6 flex justify-center"},[s("span",{staticClass:"select-none text-center"},[e._v("Enter the phone number associated with your account. We'll send you an OTP to confirm your account.")])])}],Ie={name:"step-1",methods:{goTo:function(e){this.$router.push({path:e})}}},Te=Ie,qe=(s("ad23"),Object(c["a"])(Te,Se,Fe,!1,null,"18cf9694",null)),Re=qe.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"flex justify-center p-5 relative"},[n("router-link",{staticClass:"absolute top-0 left-0 p-5 flex items-center h-full",attrs:{to:"/recoverpassword/s1"}},[n("img",{staticClass:"qr-icon-close",attrs:{src:s("8b1b"),alt:"icon"}})]),e._m(0)],1),e._m(1),n("div",{staticClass:"qr-min-h p-5 relative"},[e._m(2),n("div",{staticClass:"mb-6 flex justify-center"},[n("router-link",{attrs:{to:"#"}},[e._v("Resend OTP")])],1),n("div",{staticClass:"mb-4 flex justify-center absolute left-0 bottom-0 p-2 text-center w-full"},[n("router-link",{staticClass:"font-semibold text-lg tracking-wide",attrs:{to:"/recoverpassword/s1"}},[e._v("Change Phone")])],1)])])},Ue=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center h-full"},[s("span",{staticClass:"font-semibold text-xl tracking-wide"},[e._v("Verification")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center mt-8 mb-8"},[n("img",{staticClass:"qr-icon-user",attrs:{src:s("9619"),alt:"icon"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{attrs:{autocomplete:"off"}},[s("div",{staticClass:"mb-5"},[s("label",{staticClass:"hidden",attrs:{for:"phone"}},[e._v("Pin")]),s("input",{staticClass:"tracking-widest w-full p-3 px-5 border-2 border-opacity-50 border-pink-500 rounded-lg h-16 text-xl placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none",attrs:{type:"tel",placeholder:"OTP Code",id:"phone",required:"",autocomplete:"off"}})]),s("div",{staticClass:"mb-6 flex justify-center"},[s("span",{staticClass:"select-none text-center"},[e._v("Enter the OTP we just sent to your phone number.")])]),s("div",{staticClass:"mb-8 flex justify-center"},[s("button",{staticClass:"w-full p-3 px-5 border border-pink-700 rounded-md h-16 text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white"},[e._v("Verify")])])])}],Ne={name:"step-2"},Ke=Ne,Oe=(s("90a0"),Object(c["a"])(Ke,Pe,Ue,!1,null,"6c5b2d15",null)),Me=Oe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"app-container relative":!0,"overflow-hidden":e.lockAppScroll}},["customer"==e.currentUser.role?n("div",{staticClass:"relative flex justify-center flex-col min-h-screen"},[n("div",{staticClass:"flex justify-center p-5 absolute top-0 left-0 w-full"},[n("router-link",{staticClass:"mr-auto",attrs:{to:"/"}},[n("img",{staticClass:"menu-icon",attrs:{src:s("21e2")}})]),n("span",{staticClass:"font-semibold text-xl text-white tracking-wide capitalize"},[e._v(e._s(e.businessName))]),n("router-link",{staticClass:"ml-auto",attrs:{to:"#"}},[n("span")])],1),n("div",{staticClass:"img-wrapper p-5 text-center"},[n("div",{staticClass:"inline-block relative p-4"},[n("div",{staticClass:"qr-borders qr-top-left absolute top-0 left-0 absolute w-full h-full"}),n("div",{staticClass:"qr-borders qr-bottom-right bottom-0 right-0 absolute w-full h-full"}),n("img",{staticClass:"mx-auto qr-image text-white",attrs:{src:e.qrImage,alt:"Loading QR Code.."}})])]),n("div",{staticClass:"flex justify-center items-center absolute left-0 bottom-0 p-5 w-full"},[n("button",{staticClass:"flex items-center w-full justify-center tracking-wide p-3 px-5 border border-pink-700 rounded-lg h-16 text-xl placeholder-black focus:outline-none tracking-wide qr-btn text-white",on:{click:e.openQrImageInBrowser}},[e._v("DOWNLOAD")])])]):e._e()])},Qe=[],Je={name:"Home",data:function(){return{token:null,currentUser:{role:null},loading:"",businessId:null,businessName:null,lockAppScroll:!1,qrImage:null}},computed:Object(h["a"])({},Object(v["b"])(["name","userId"])),watch:{qrImage:function(){console.log(this.qrImage),this.loading.hide()}},created:function(){this.currentUser.role="customer",this.token=z(),this.businessId=this.$route.params.id,this.businessName=this.$route.params.name,this.loading=this.$loading.show({color:"purple",canCancel:!1}),this.getQr()},mounted:function(){},methods:{logout:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login?redirect=".concat(e.$route.fullPath));case 3:case"end":return t.stop()}}),t)})))()},getQr:function(){var e=this;setTimeout((function(){e.qrImage="https://api.qrserver.com/v1/create-qr-code/?size=320x320&data=".concat(e.businessId)}),1e3)},openQrImageInBrowser:function(){var e=this,t=cordova.InAppBrowser.open(e.qrImage,"_blank","location=yes");console.log(t)}}},Ve=Je,Le=(s("4f8a"),Object(c["a"])(Ve,ze,Qe,!1,null,"6cd528d2",null)),$e=Le.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"app-container relative":!0}},[n("div",{class:{"relative min-h-screen will-blur":!0}},[n("div",{staticClass:"flex justify-center p-5 w-full"},[n("router-link",{staticClass:"mr-auto",attrs:{to:"/"}},[n("img",{staticClass:"menu-icon",attrs:{src:s("21e2")}})]),e._m(0),n("router-link",{staticClass:"ml-auto",attrs:{to:"#"}})],1),n("div",{staticClass:"flex items-center justify-center flex-col p-5 mt-4"},[e.validBusiness?n("div",{staticClass:"uppercase text-gray-400 tracking-wide text-base tracking-wider mb-2"},[e._v("Make Payment to")]):e._e(),e.validBusiness?n("div",{staticClass:"text-white mb-8 text-2xl font-bold tracking-wider text-center"},[e._v(e._s(e.business.business_name))]):e._e(),e.loadingBusiness?n("div",{staticClass:"text-white mb-8 text-2xl mt-8 font-light uppercase opacity-50 tracking-wider text-center"},[e._v("Loading...")]):e._e(),e.notValidBusiness?n("div",{staticClass:"text-white mb-8 text-2xl font-bold tracking-wider text-center"},[e._v("Could not verify the QR Code, try again!")]):e._e(),e.notValidBusiness?n("router-link",{staticClass:"uppercase rounded-full py-4 px-6 text-gray-400 tracking-wide text-base tracking-wider qr-gray-bg",attrs:{to:"/"}},[e._v("Try Again")]):e._e(),e.validBusiness?n("form",{staticClass:"w-full py-4",on:{submit:function(t){return t.preventDefault(),e.requestPushSTK(t)}}},[n("div",{staticClass:"mb-8"},[n("label",{staticClass:"mb-1 inline-block text-white",attrs:{for:"email"}},[e._v("Preferrd Number for Payment")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.paymentPhone,expression:"paymentPhone"}],staticClass:"w-full p-3 px-5 tracking-wider border-2 border-opacity-50 rounded-lg h-12 text-lg placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"tel",placeholder:"Enter ",id:"amount",min:"2",required:"",autocomplete:"off"},domProps:{value:e.paymentPhone},on:{input:function(t){t.target.composing||(e.paymentPhone=t.target.value)}}})]),n("div",{staticClass:"mb-8"},[n("label",{staticClass:"mb-1 inline-block text-white",attrs:{for:"email"}},[e._v("Enter Amount")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.paymentAmount,expression:"paymentAmount"}],staticClass:"w-full p-3 px-5 tracking-wider border-2 border-opacity-50 rounded-lg h-12 text-lg placeholder-black placeholder-opacity-50 focus:border-teal-500 focus:outline-none tracking-wide",attrs:{type:"number",placeholder:"Enter amount",id:"amount",min:"2",required:"",autocomplete:"off"},domProps:{value:e.paymentAmount},on:{input:function(t){t.target.composing||(e.paymentAmount=t.target.value)}}})]),n("button",{staticClass:"tracking-wide w-full py-4 px-5 mt-4 border border-pink-700 rounded-lg h-16 text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white"},[e._v("SCAN")])]):e._e()],1)]),e.showFeedback?n("div",{staticClass:"fixed absolute w-full flex items-center justify-center h-full overflow-hidden top-0 left-0 bg-black bg-opacity-75"},[n("div",{staticClass:"p-6 bg-gray-700 rounded-sm"},[n("p",{staticClass:"text-xl text-white"},[e._v(e._s(e.feedbackMessage))]),n("button",{staticClass:"tracking-wide w-full py-2 px-4 mt-4 border border-pink-700 rounded-lg text-xl placeholder-black focus:border-teal-500 focus:outline-none tracking-wide qr-btn text-white",on:{click:e.afterFeedback}},[e._v("OK")])])]):e._e()])},De=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"font-semibold text-lg text-white tracking-wide capitalize"},[n("button",{staticClass:"flex items-center"},[n("span",[e._v("Make Payment")]),n("img",{staticClass:"icon-after-span",attrs:{src:s("812c")}})])])}],Ge={name:"Home",data:function(){return{token:null,currentUser:{role:null},businessId:"",loading:"",validBusiness:!1,notValidBusiness:!1,loadingBusiness:!0,paymentPhone:null,paymentAmount:"",business:{},feedbackMessage:"",showFeedback:!1,feedbackCode:null}},computed:Object(h["a"])({},Object(v["b"])(["name","userId","phone"])),created:function(){this.currentUser.role="merchant",this.token=z(),this.paymentPhone=this.phone,this.businessId=this.$route.params.id},mounted:function(){var e=this;e.getABusiness()},watch:{},methods:{logout:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("user/logout");case 2:e.$router.push("/login?redirect=".concat(e.$route.fullPath));case 3:case"end":return t.stop()}}),t)})))()},getABusiness:function(){var e=this,t=e.$loading.show({color:"purple",canCancel:!1});ne(this.token,this.businessId).then((function(s){e.business=s.business,e.validBusiness=!0,e.loadingBusiness=!1,console.log(s),t.hide()}),(function(s){t.hide(),e.validBusiness=!1,e.notValidBusiness=!0,e.loadingBusiness=!1,e.$msg.error({message:"Request failed! ".concat(s),width:"80%",position:"bottom-center"})})).catch((function(s){t.hide(),e.validBusiness=!1,e.notValidBusiness=!0,e.loadingBusiness=!1,e.$msg.error({message:"Request up failed! ".concat(s),width:"80%",position:"bottom-center"})}))},requestPushSTK:function(){var e=this;if(!(e.paymentAmount<=0)&&""!=e.paymentPhone){var t={businessId:e.businessId,userId:e.userId,userName:e.name,phone:e.paymentPhone,amount:e.paymentAmount},s=e.$loading.show({color:"purple",canCancel:!1});ie(e.token,t).then((function(t){console.log("Data",t);var n=t.data;e.showFeedback=!0,e.feedbackMessage=n.message,e.feedbackCode=n.code,s.hide()}),(function(t){s.hide(),e.$msg.error({message:"Request failed! ".concat(t),width:"80%",position:"bottom-center"})})).catch((function(t){s.hide(),e.$msg.error({message:"Request failed! ".concat(t),width:"80%",position:"bottom-center"})}))}},afterFeedback:function(){if(console.log(this.feedbackCode),"success"!==this.feedbackCode)this.showFeedback=!1;else{var e="/";this.$router.push({path:e})}},goTo:function(){var e=this,t="/qr/".concat(e.activeBusiness.id,"/").concat(e.activeBusiness.business_name);this.$router.push({path:t})}}},We=Ge,Ye=(s("1fbe"),Object(c["a"])(We,Ze,De,!1,null,"e5127862",null)),He=Ye.exports;n["default"].use(d["a"]);var Xe=[{path:"/",name:"Home",component:ue},{path:"/register",name:"Register",component:ke},{path:"/login",name:"Login",component:Be},{path:"/recoverpassword/s1",name:"step-1",component:Re},{path:"/recoverpassword/s2",name:"step-2",component:Me},{path:"/qr/:id/:name",name:"qr",component:$e},{path:"/payment/:id",name:"payment",component:He}],et=new d["a"]({routes:Xe}),tt=et,st=s("c1df"),nt=s.n(st),it=s("9062"),at=s.n(it),rt=(s("e40d"),s("d719")),ot=s.n(rt),ct=(s("e4db"),s("c898"),s("c975"),["/login","/register"]);tt.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,s,n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(document.title="QRPay",i=z(),!i){e.next=25;break}if("/login"!==t.path&&"/register"!=t.path){e.next=7;break}n({path:"/"}),e.next=23;break;case 7:if(a=W.getters.name,!a){e.next=12;break}n(),e.next=23;break;case 12:return e.prev=12,e.next=15,W.dispatch("user/getInfo");case 15:n(),e.next=23;break;case 18:return e.prev=18,e.t0=e["catch"](12),e.next=22,W.dispatch("user/resetToken");case 22:n("/login?redirect=".concat(t.path));case 23:e.next=26;break;case 25:-1!==ct.indexOf(t.path)?n():n("/login?redirect=".concat(t.path));case 26:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,s,n){return e.apply(this,arguments)}}()),tt.afterEach((function(){})),n["default"].use(at.a),n["default"].use(ot.a,{name:"msg"}),n["default"].config.productionTip=!1,n["default"].filter("formatDate",(function(e){return nt()(e).format("D/M/YYYY hh:mm")})),new n["default"]({router:tt,store:W,render:function(e){return e(u)}}).$mount("#app")},5747:function(e,t,s){e.exports=s.p+"static/img/shop.3c89c7b2.svg"},"636c":function(e,t,s){},"6aed":function(e,t,s){e.exports=s.p+"static/img/user.cf290a6a.svg"},"72e4":function(e,t,s){e.exports=s.p+"static/img/close-white.83ccf87a.svg"},"812c":function(e,t,s){e.exports=s.p+"static/img/tick.8b4d6e74.svg"},"83d6":function(e,t){e.exports={title:"QRPay",fixedHeader:!1,sidebarLogo:!1}},"85ec":function(e,t,s){},"8aea":function(e,t,s){},"8b1b":function(e,t,s){e.exports=s.p+"static/img/close.5d8fa210.svg"},"90a0":function(e,t,s){"use strict";var n=s("2609"),i=s.n(n);i.a},9619:function(e,t,s){e.exports=s.p+"static/img/lock.edc89c5b.svg"},a32e:function(e,t,s){"use strict";var n=s("1f37"),i=s.n(n);i.a},ad23:function(e,t,s){"use strict";var n=s("e199"),i=s.n(n);i.a},c898:function(e,t,s){},cdb2:function(e,t,s){"use strict";var n=s("12e9"),i=s.n(n);i.a},cf44:function(e,t,s){e.exports=s.p+"static/img/money.48c13f02.svg"},d605:function(e,t,s){},dd42:function(e,t,s){},e199:function(e,t,s){},e921:function(e,t,s){"use strict";var n=s("dd42"),i=s.n(n);i.a},eb38:function(e,t,s){e.exports=s.p+"static/img/plus.5d27ff3f.svg"}});
//# sourceMappingURL=app.c7b3383f.js.map